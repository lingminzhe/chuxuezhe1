<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="com.grgbanking.counter.iam.dao.SysDictDao">

    <select id="querySysDictByCodeAndName" resultType="com.grgbanking.counter.iam.entity.SysDictEntity">
        SELECT
          *
        FROM
          sys_dict
        <where>
            1 = 1
            <if test="code != null and code != ''">
                AND upper(CODE) LIKE upper('%${code}%')
            </if>
            <if test="keyName != null and keyName != ''">
                AND (
                  upper(NAME_EN_US) LIKE upper('%${keyName}%')
                  OR
                  upper(NAME_LOCAL) LIKE upper('%${keyName}%')
                )
            </if>
        </where>

    </select>

    <select id="listSysDictByCode" resultType="com.grgbanking.counter.iam.entity.SysDictEntity">
		select
		  *
		from
		  sys_dict
		where
		  1 = 1
		and
		  code = #{code}
		order by
		  sort_index
		asc
	</select>

    <select id="listSysDict" resultType="com.grgbanking.counter.iam.entity.SysDictEntity">
        SELECT
          *
        FROM
          SYS_DICT
        <where>
            1=1
            <if test="codeList != null and codeList.size > 0">
                AND CODE in
                <foreach collection="codeList" item="code" index="index" open="(" close=")"
                         separator=",">
                    #{code}
                </foreach>
            </if>
            <if test="code != null and code != ''">
                AND
                upper(CODE) LIKE upper('%${code}%')
            </if>
            <if test="keyName != null and keyName != ''">
                AND (
                upper(NAME_EN_US) LIKE upper('%${keyName}%')
                OR
                upper(NAME_LOCAL) LIKE upper('%${keyName}%')
                )
            </if>
        </where>
        order by
          sort_index
    </select>

    <select id="queryCodesByCodeAndName" resultType="java.lang.String">
        SELECT
          DISTINCT CODE
        FROM
          SYS_DICT
        <where>
            1=1
            <if test="code != null and code != ''">
                AND
                  upper(CODE) LIKE upper('%${code}%')
            </if>
            <if test="keyName != null and keyName != ''">
                AND (
                  upper(NAME_EN_US) LIKE upper('%${keyName}%')
                  OR
                  upper(NAME_LOCAL) LIKE upper('%${keyName}%')
                )
            </if>
        </where>
    </select>

</mapper>
